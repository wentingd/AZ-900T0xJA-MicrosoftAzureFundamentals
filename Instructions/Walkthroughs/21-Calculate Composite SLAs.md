---
wts:
    title: '21 - 複合 SLA の計算 (5分)'
    module: 'モジュール 06: Azure Cost Management およびサービス レベル アグリーメントに関する説明'
---
# 21 - 複合 SLA の計算

このチュートリアルでは、Azure サービスの可用性 SLA を決定し、アプリケーション複合 SLA ベースの推定可用性を計算します。

このサンプル アプリケーションは、次の Azure サービスで構成されています。ここでは、高レベルの例を提供することとし、アーキテクチャーの詳細な構成や考慮事項については割愛します。

+ **App Services**: アプリケーションをホストします。
+ **Azure AD B2C**: ユーザー ログインを認証し、プロファイルを管理します。
+ **Application Gateway**: アプリケーション アクセスやスケーリングを管理します。 
+ **Azure SQL Database**: アプリケーション データを格納します。 

# タスク 1: アプリケーションの SLA アップタイム率を決定する (5 分)

1. ブラウザーで、「 [Azureサービスの SLA サマリー](https://azure.microsoft.com/ja-jp/support/legal/sla/summary/)」ページに移動します。

2. **アプリ サービス** の SLA アップタイム値 **99.95%** を見つけます。「**詳細の表示**」 をクリックし、「**SLA の詳細**」 を展開します。**「月間アップタイム率」** と **「サービス クレジット」** を確認します。

3. SLA Web ページに戻り、**「Azure Active Directory B2C」** サービスを見つけて、SLA アップタイムの値 **「99.9%」** を確認します。 

4. **Application Gateway** の SLA アップタイム値 **99.95%** を確認します。 

5. Azure SQL データベースでは Premium レベルを使用しますが、ゾーン冗長デプロイ向けには構成されていません。**「Azure SQL Database」** SLA のアップタイム値 **「99.99%」** を見つけます。 

    **注**: Azure SQL Database の構成とデプロイごとに、アップタイム値が異なります。デプロイと構成を計画およびコスト管理する際には、必要なアップタイム値を明確にすることが重要です。アップタイムの変更が小さくても、サービス コストに影響を与える可能性があり、構成の複雑さが増大する可能性があります。Azure SLA 概要 Web ページで興味を引く他のサービスには、**Virtual Machines**、**ストレージ アカウント**、**Cosmos DB** などがあります。

# タスク 2: アプリケーションの複合 SLA のアップタイム率を計算する

1. アプリケーションを構成するサービスのいずれかが利用できない場合、ユーザーはサインインしてアプリケーションを利用できません。そのため、アプリケーションの合計アップタイムは次の要素で構成されます。

    **App Service % uptime** X **Azure AD B2C % uptime** X  **Azure Application Gateway % uptime** X **Azure SQL Database % uptime** = **Total % Uptime**

    パーセントで表すと次のとおりです。

    **99.95%** X **99.9%** X **99.95%** X **99.99%** = **99.79%**

    これは、現在のサービスおよびアーキテクチャを使用したアプリケーションの SAL ベースの推定可用性です。

成功しました。サンプル アプリケーションの各サービスの SLA べース アップタイムを決定し、アプリケーションの複合 SLA ベース推定可用性を計算しました。